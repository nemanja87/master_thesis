{
  "Environment": "local",
  "Tools": {
    "K6Path": "k6",
    "GhzPath": "ghz"
  },
  "Target": {
    "RestBaseUrl": "http://gateway:8080",
    "GrpcAddress": "gateway:9090",
    "ProtoPath": "Protos/ordering.proto"
  },
  "Workloads": {
    "orders-create": {
      "Rest": {
        "Method": "POST",
        "Path": "/orders/api/orders",
        "Body": {
          "customerId": "bench-client",
          "itemSkus": ["SKU-1000", "SKU-2000"],
          "totalAmount": 199.99
        }
      },
      "Grpc": {
        "Call": "shared.contracts.orders.OrderService/Create",
        "RequestBody": {
          "customerId": "bench-client",
          "itemSkus": ["SKU-1000", "SKU-2000"],
          "totalAmount": 199.99
        }
      }
    }
  },
  "Security": {
    "Jwt": {
      "TokenEndpoint": "http://authserver:5001/connect/token",
      "ClientId": "bench-runner",
      "ClientSecret": "bench-runner-secret",
      "Scopes": "orders.write orders.read"
    },
    "Tls": {
      "CaCertificatePath": "",
      "ClientCertificatePath": "",
      "ClientCertificateKeyPath": ""
    }
  },
  "Prometheus": {
    "BaseUrl": "http://prometheus:9090",
    "StepSeconds": 15,
    "Queries": [
      {
        "Name": "gateway_cpu",
        "Query": "avg(rate(container_cpu_usage_seconds_total{pod=~\"gateway.*\"}[1m]))"
      },
      {
        "Name": "orderservice_memory",
        "Query": "avg(container_memory_working_set_bytes{pod=~\"orderservice.*\"})"
      }
    ]
  },
  "Results": {
    "BaseUrl": "http://localhost:8000",
    "ApiRoute": "/api/runs"
  }
}
